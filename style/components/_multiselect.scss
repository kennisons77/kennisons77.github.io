.multiselect{

	border: $base-border;
	position: relative;
	background: white;
	margin-top: $small-spacing;
	border-radius: 5px;

	&:first-child{
		margin-top: 0;
	}

	&-label{
		@extend %truncate;
		display: block;
		padding: $small-spacing;
		padding-right: $small-spacing * 3;

		&:before{
			@include triangle($small-icon-size / 2, $dark-grey-font-color, down);
	    top: 0.5em;
			float: right;
			content: "";
	    position: relative;
	    margin-right: -$small-icon-size;
		}
	}

	&.open > .multiselect-options, .open > .multiselect-options{
		height: auto;
		display: block;
		overflow: auto;
		max-height: 20em;
	}

	&-options{
		top: 100%;
		left: -1px;
		width: 100%;
		height: 0;
		z-index: 10;
		display: none;
		overflow: hidden;
		position: absolute;
		border: $base-border;
		background: white;
		box-sizing: content-box;

		.multiselect, .multiselect-options{
			border: none;
			position: static;
			box-sizing: border-box;
			max-height: none !important;
		}

		// Nested Multiselect
		.multiselect > .multiselect-option .multiselect-option-text{

			&:after{
				@include triangle($small-icon-size / 2, $dark-grey-font-color, down);
				content: "";
				display: inline-block;
		    margin-left: $small-spacing;
				vertical-align: middle;
			}
		}

		.multiselect-options{
			border-top: $base-border;
			background: lighten(grey, 45%);
		}

		> * {
			box-sizing: border-box;
		}
	}

	&-option{
		border-top: $base-border;

		&:first-child{
			border-top: none;
		}

		input{
			@extend %visuallyhidden;

			+ label{

				float: right;
				width: 1.5em;
				height: 1.5em;
				margin: $small-spacing;
				border: $base-border;
				position: relative;
				border-radius: 50%;
				vertical-align: middle;

				&:after{
				  @include transform(scale(0));
					top: 0;
					left: 0;
				  width: 100%;
				  height: 100%;
					content: "";
				  position: absolute;
					transition: all 150ms $base-timing;
				  background: $action-color;
					border-radius: 50%;
				}
			}

			&:checked{

				+ label{
					&:after{

			  		@include transform(scale(1.1));
					}
				}
			}
		}

		&-text{
			display: block;
			padding: $small-spacing;
			font-weight: normal;
			margin-bottom: 0;
		}
	}	
}